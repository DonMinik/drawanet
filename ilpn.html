
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link type="text/css" rel="stylesheet" href="../index.css">
    <link type="text/css" rel="stylesheet" href="ilpn.css">
    <title>get a petri net</title>
     <script type="text/javascript" language="javascript" src="ilpn/ilpn.nocache.js"></script>
    <script type="text/javascript" src="FileSaver.js"></script>
      <script type="module"  src="src/js/index.js"></script>
  </head>

  <body>

    <!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>
	
	<a href="../index.html" style="text-decoration: none">
	<h1><font color="#000000">I <font color="#FF0000">&#10084;<font color="#000000"> Petri Nets</h1>
	</a>
    

    <h2> Draw a petri net - Hold down left mouse button to draw places, transitions, arcs, and tokens. </br> Click right mouse button to remove places, transitions, and tokens. 
	</h2>
    <!--
    <div id="editor" style="width: 100%; height: 400px; border-style: dotted;border-color: lightgrey;" onContextMenu="return false;"></div>
    -->
    <canvas class="canvas"  onclick="
import {canvasController} from './src/js';
canvasController.mouseUp()">

    </canvas>
         
    <!-- LOAD -->
    <div style="width: 0%; height: 180px; float: left; display: none">
    <center>
	<h2 class="blacktext" id="fileUploadInfo">drag and drop files here</h2>
	<div class="pn" id="fileUpload"></div>
	</center>
    </div>
    
	<!-- RUN -->
	<div style="width: 100%; height: 180px; float: left">
 	<center>
 	<h2 class="readytext" id="fileUploadInfo2">download your drawing</h2>
	<div id="UploadButtonContainer1">
	</div>
	</center>
	</div>
    <div style="clear : both"></div>
    <hr>   
	
	

	
	<h2 style="text-align:right">  
    ... and I know you do too!
    </br></br>
    <a href="http://www.fernuni-hagen.de/mi/fakultaet/lehrende/bergenthum/index.shtml">Robin Bergenthum</a> and <a href="https://www.fernuni-hagen.de/sttp/team/benjamin.meis.shtml">Benjamin Meis</a> </br>
    Fakultät für Mathematik und Informatik    </br>
    Fernuni in Hagen, Germany    </br>
    <a href="https://www.fernuni-hagen.de/service/impressum.shtml">Impressum</a> &middot;
    <a href="https://www.fernuni-hagen.de/service/datenschutz.shtml">Datenschutz</a>  
    </h2>
		
	<!-- ############################################################# -->
	<!-- FILE LOADER -->
	<!-- ############################################################# -->
	<script>
		var holder = document.getElementById('fileUpload');
	
		holder.ondragover = function() {
			this.className = 'hover';
			return false;
		};
		
		holder.ondragleave = function() {
			var active = document.querySelector(".hover");
			active.classList.remove("hover");
			active.className = 'pn';
			return false;
		};
		
		holder.ondrop = function(e) {
			this.className = '';
			
			e.preventDefault();
	
			var file = e.dataTransfer.files[0], reader = new FileReader();
			reader.onload = function(event) {
				console.log(event.target);
				window.loadFileF(event.target.result);
				var h = document.getElementById("fileUpload");
				<!-- h.className += " hide"; -->
				
				document.getElementById("fileUploadInfo").className = "whitetext";
				document.getElementById("fileUploadInfo2").className = "blacktext";
				
				document.getElementById("button1").disabled = false;
				document.getElementById("button1").className = 'readybutton';
			};
			
			console.log(file);
			reader.readAsText(file);
			
			var active = document.getElementById("fileUpload");
			active.className = 'uploaded';
	
			return false;
		};
		
		document.saveFile = function save(text, fileName)
    	{
    		var blob = new Blob(text, {type: "text/xml"});
    		
    		// Greift auf die SaveFile-Methode der Bibliothek FileSaver.js zu, um die Textdatei zu erzeugen und herunterzuladen
    		saveAs(blob, fileName);
    	}
	</script>
    
  </body>
</html>
